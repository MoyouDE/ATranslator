# ATranslator
 [点此下载最新版本启动器](https://github.com/MoyouDE/ATranslator-Homepage/releases/download/1.1.0/ATranslator_Launcher.zip)

## 介绍
这是一款专为游戏文本翻译设计的 ``免费Ai辅助CAT工具`` ，你也可以将其用于任意形式的文本翻译  

此工具 ``集成多种翻译api`` 以及 ``直观的编辑界面`` ，即使外语小白也能轻松做到细致的翻译  

同时工具 ``内嵌本地翻译模型`` ，不需要额外配置环境， ``全自动部署``，本地模型轻松使用。  

此外支持 ``一键自动模型训练``，您可以通过将已校对的翻译文本喂给模型来训练自己的 ``个性化翻译器``，实现劳动力的自我解放  

>欢迎各位 游戏开发 / 汉化 团体与个人 使用。  
>本软件目前处于测试阶段，如有任何 __Bug反馈__ 或 __建议__ 请提交于此仓库[Issues](https://github.com/MoyouDE/ATranslator-Homepage/issues)页面 :smile:

## 使用教程

## 1. 如何安装/更新
- 你可以在此页面顶部找到最新版启动器的下载连接，直接点击下载  
> 或者前往本仓库的 [Release](https://github.com/MoyouDE/ATranslator-Homepage/releases) 界面 下载最新版本启动器的压缩包

- 下载完毕后解压即可得到翻译器的启动器 ATranslator_Launcher.exe
> **提示：** 为了避免路径过长导致的意外错误，请不要将启动器 放置在过深目录下

- 双击启动 ATranslator_Launcher.exe ，启动器会自动检查并下载安装最新版本的翻译器至当前目录下  
  
- 安装完毕后启动器将自动开启
> **提示：** 之后使用也请通过  ATranslator_Launcher.exe 打开

## 2. 开始创建第一个工程
- 于顶部菜单栏 `File` -> `打开项目` 选择要作为翻译工程的 __文件夹__, 选择后翻译器将自动在该文件夹下完成工程初始化 并 加载文件列表
> 翻译器会在文件夹下生成 __.AT__ 隐藏文件夹 作为存储目录 ，所有 __工程相关配置__ 以及 __翻译数据__ 都将存储于此  
> 翻译器设计上 __不会__ 改写你的文件 ，不用担心意外造成的原文件损坏

---

###  为了快速上手，接下来的说明将配合例子进行，你可以在这个仓库里下载到示例中所用工程  
> 该示例中所用数据来源于游戏《潜渊症》（仅供学习使用，有问题可联系我进行删除）

- #### 1 双击打开我们想要翻译的文件，文件初始状态如图，假定我们的目标是翻译.txt 文件中的所有输出语句（不包括注释）

![初始状态](https://github.com/MoyouDE/ATranslator-Homepage/assets/44468640/15fa6380-3584-4537-9570-0d95414322f1)


- #### 2 打开顶部工具栏 -> `Settings` -> `项目设置` ，在项目设置界面中设定我们的匹配规则
  + 请依次在`匹配规则设置`中添加如下规则组：
   
       | 文件名规则 | 文本匹配规则      | 常用的正则表达式解释|
       | ---- | --------- |----|
       | txt    | ^Print\\((.*?)\\)$     | `^`匹配行首 ，  `$`匹配行尾 ， `\(`匹配`(` ， 
       | txt    | (?<!;)Log\\((.*?)\\)      | (?<!;) 表示 其后部分的表达式之前不能是`;`
       | txt    | <title>(.*?)<\\title>      |`(.*?)`代表捕获中间所有字符，其中的`?`代表懒惰匹配，即在规则成立的前提下选择尽可能短的文本进行捕获，加上此符号可避免出现跨行匹配的情况

   > 同样的匹配效果可以有多种写法，表达式相关知识可参阅[此处](https://learn.microsoft.com/zh-cn/dotnet/standard/base-types/regular-expressions)，你也可以在[正则模拟网站](https://regex101.com/)来快速验证表达式的效果
  + 如果你不想在文件列表中看到无关文件，可以勾选 `仅显示文件名规则匹配类型文件` 选项
    
    <details>
     <summary><em> 设置界面示例 </em></summary>
  
    ![项目设置](https://github.com/MoyouDE/ATranslator-Homepage/assets/44468640/5b2c5314-09d4-4006-9bf4-bec90ac2c793)
  
    </details>
  
  + 保存后即可看到设置效果
    
     <details>
     <summary><em> 设置成功后的效果图 </em></summary>
  
    ![效果图](https://github.com/MoyouDE/ATranslator-Homepage/assets/44468640/1641a730-70bc-4ba5-b3ad-62a82b289eac)
  
    </details>
    
     \_<strong>下_划_线_加_粗</strong>\_  部分即为规则设定的需要翻译部分，机器翻译可将此部分 单独提取翻译 后 回填，避免破坏其他文本结构
    
     > 由于 匹配规则变动 生成了新的文本解析数据 ，此时该文件处于 `*待保存状态` ，可点击 `保存` 按钮，或使用 `ctrl + s` 进行保存
     
- #### 3 在 右侧输入框 键入对应 完整翻译文本 以 完成翻译
    当确认规则设定完毕后就可以正式进入你的翻译流程，如果你具有良好的外语知识，可以直接在右侧输入框内键入对应翻译文本，

## 使用说明  
### 如何安装/更新
下载启动器后，点击ATranslator_Launcher.exe 即可开始自动下载安装最新版本翻译器  
`1.0.3`版本翻译器 支持 版本检测 及 自动更新，翻译器开启后按照指引点击更新即可  
可通过 `Help` -> `版本检测` 手动检查当前版本  

tip： 低于 `1.0.3` 版本的请通过此仓库下载新版启动器重新安装翻译器进行更新

## 未来开发计划（以下排序不代表优先级）  
补完使用说明    
文字大小/界面风格切换  
本地翻译模型  

## 查看历史版本
[点此前往包体仓库](https://github.com/MoyouDE/ATranslator-Release/releases)
此工具会在您想要翻译的工程文件夹下生成一个 .AT 文文件 所有翻译相关数据都存储此文件夹下，不会破坏或修改您的原本文件内容
  



